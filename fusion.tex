\documentclass[format=sigplan]{acmart}

\usepackage[utf8]{inputenc}
\usepackage[english]{babel}

\usepackage{minted}
\newcommand{\minline}[1]{\mintinline{Haskell}{#1}}

%
% defining the \BibTeX command - from Oren Patashnik's original BibTeX documentation.
\def\BibTeX{{\rm B\kern-.05em{\sc i\kern-.025em b}\kern-.08emT\kern-.1667em\lower.7ex\hbox{E}\kern-.125emX}}

% Rights management information. 
% This information is sent to you when you complete the rights form.
% These commands have SAMPLE values in them; it is your responsibility as an author to replace
% the commands and values with those provided to you when you complete the rights form.
%
% These commands are for a PROCEEDINGS abstract or paper.
\copyrightyear{2019}
\acmYear{2019}
%\setcopyright{acmlicensed}
\acmConference[]{}{}{}
%\acmBooktitle{Woodstock '18: ACM Symposium on Neural Gaze Detection, June 03--05, 2018, Woodstock, NY}
%\acmPrice{15.00}
%\acmDOI{10.1145/1122445.1122456}
%\acmISBN{978-1-4503-9999-9/18/06}

\begin{document}
\title{Cata Fusion}
\author{Alexandre Moine}
\email{alexandre@moine.me}

\affiliation{%
	\institution{UniversitÃ© Paris Diderot}
	\streetaddress{5 Rue Thomas Mann}
	\city{Paris}
	\country{France}
	\postcode{75013}
}

\begin{abstract}
\end{abstract}
	
%
% The code below is generated by the tool at http://dl.acm.org/ccs.cfm.
% Please copy and paste the code instead of the example below.
%
\begin{CCSXML}
TODO
\end{CCSXML}
	
%% \ccsdesc[500]{Computer systems organization~Embedded systems}
%% \ccsdesc[300]{Computer systems organization~Redundancy}
%% \ccsdesc{Computer systems organization~Robotics}
%% \ccsdesc[100]{Networks~Network reliability}
	
%
% Keywords. The author(s) should pick words that accurately describe the work being
% presented. Separate the keywords with commas.
	
\keywords{Haskell, GHC, deforestation, algebraic graphs, TODO}
	
%
% This command processes the author and affiliation and title information and builds
% the first part of the formatted document.
\maketitle

\section{Introduction}

A problem
An interesting one
An unsolved one
IDEA
	
\section{Recursion schemes}
Recursion schemes are almost everywhere in functional programming. They were popularized by Meijer and al. \cite{4cec4a43c86444479dc0003182424795}.

\subsection{Catamorphisms and paramorphisms}
A \emph{catamorphisms} generalize a fold on a recursive structure. For example, the catamorphism of lists is the so-called \minline{foldr}.
\begin{minted}{Haskell}
foldr :: (a -> b -> b) -> b -> [a] -> b
foldr k z = go
  where
    go []     = z
    go (y:ys) = y `k` go ys

\end{minted}
TODO

A \emph{paramorphism} allow the combination function to have a look on the unconsummed part of the structure (imitating the full power of recursion). It can be defined for lists as

\begin{minted}{Haskell}
para :: (a -> [a] -> b -> b) -> b -> [a] -> b
para k z = go
  where
    go []     = z
    go (y:ys) = k y ys (go ys)
\end{minted}

TODO equivalence para/foldr

\subsection{Anamorphisms and apomorphisms}
TODO

\subsection{Fusion of recursive scheme - hylomorphisms}
TODO

\subsection{Deforestation}
Deforestation is a process first introduced by Wadler \cite{WADLER1990231} and realized in Haskell by Gill and al. \cite{Gill:1993:SCD:165180.165214}. It is the idea that one can eliminate a structure produced by an anamorphism and destructed right away by a catamorphism.

The first example of this concept is the expression:
\begin{minted}{Haskell}
foldr c e (map f xs)
\end{minted}
\minline{map} will destruct the original list and produce a new one, which will be destructed after with \minline{foldr}.

Obviously, the above expression is equivalent to a more efficient one:
\begin{minted}{Haskell}
foldr (c . f) e xs
\end{minted}
The above expression will go through the list only once.

Note that the rewriting operation we made in this example is not at all dependent of the list structure: we just used the fact that we know how is made the list produced by \minline{map}. This concept can be simply generalized to recursive structure, as we will show in the next section.

\section{Deforestation on recursive types}
\input{rectypes.tex}

\section{Going further with algebraic graphs}
\input{alga.tex}

\begin{acks}
TODO
\end{acks}
	

\bibliographystyle{ACM-Reference-Format}
\bibliography{publications}
\end{document}
 
