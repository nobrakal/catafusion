\documentclass[format=sigplan]{acmart}

\usepackage[utf8]{inputenc}
\usepackage[english]{babel}
\usepackage{amsmath}
\usepackage{amssymb}

\usepackage{minted}
\newcommand{\minline}[1]{\mintinline{Haskell}{#1}}

%
% defining the \BibTeX command - from Oren Patashnik's original BibTeX documentation.
\def\BibTeX{{\rm B\kern-.05em{\sc i\kern-.025em b}\kern-.08emT\kern-.1667em\lower.7ex\hbox{E}\kern-.125emX}}

% Rights management information.
% This information is sent to you when you complete the rights form.
% These commands have SAMPLE values in them; it is your responsibility as an author to replace
% the commands and values with those provided to you when you complete the rights form.
%
% These commands are for a PROCEEDINGS abstract or paper.
\copyrightyear{2019}
\acmYear{2019}
%\setcopyright{acmlicensed}
\acmConference[Haskell'19]{24th ACM SIGPLAN International Haskell Symposium}{September 18-23, 2019}{Berlin, Germany}

%\acmPrice{15.00}
%\acmDOI{10.1145/1122445.1122456}
%\acmISBN{978-1-4503-9999-9/18/06}

\begin{document}
\title{Fusion}
\author{Alexandre Moine}
\email{alexandre@moine.me}

\affiliation{%
	\institution{Universit√© Paris Diderot}
	\streetaddress{5 Rue Thomas Mann}
	\city{Paris}
	\country{France}
	\postcode{75013}
}

\begin{abstract}
Recursive structure are everywhere in Haskell, ...  . We therefore propose a simple automatic technique to perform deforestation on recursive types using the rewrite rules system.
\end{abstract}

%
% The code below is generated by the tool at http://dl.acm.org/ccs.cfm.
% Please copy and paste the code instead of the example below.
% FROM https://dl.acm.org/ccs/ccs.cfm?id=10011012&lid=0.10011007.10011006.10011008.10011009.10011012

\begin{CCSXML}
	<ccs2012>
	<concept>
	<concept_id>10011007.10010940.10010992.10010993.10010994</concept_id>
	<concept_desc>Software and its engineering~Functionality</concept_desc>
	<concept_significance>300</concept_significance>
	</concept>
	<concept>
	<concept_id>10011007.10011006.10011008.10011009.10011012</concept_id>
	<concept_desc>Software and its engineering~Functional languages</concept_desc>
	<concept_significance>300</concept_significance>
	</concept>
	</ccs2012>
\end{CCSXML}

\ccsdesc[300]{Software and its engineering~Functionality}
\ccsdesc[300]{Software and its engineering~Functional languages}


%
% Keywords. The author(s) should pick words that accurately describe the work being
% presented. Separate the keywords with commas.

\keywords{Haskell, GHC, deforestation}

%
% This command processes the author and affiliation and title information and builds
% the first part of the formatted document.
\maketitle

\section{Introduction}

A Haskell program can be seen as the composition of many other small programs. It is often the right way to see software development but can lead to optimization problems. For example the expression:
\begin{minted}{Haskell}
foldr (+) 0 (map (* 2) xs)
\end{minted}
is equivalent to
\begin{minted}{Haskell}
foldr ((+) . (*) 2) 0 xs
\end{minted}

\noindent While the first one is more comprehensible, it builds an intermediate list that is not needed. The second version is optimized and will only go through the original list once.
This optimization, called \emph{deforestation} (introduced by Wadler \cite{WADLER1990231}) can be made at compile-time and thus allowing the user to write a readable code while the compiler optimize it when it can; this is known for a long time, explained by Gill et al. \cite{Gill:1993:SCD:165180.165214} and implemented by Peyton Jones et al. \cite{pbr} for GHC.

Destruct a recursive structure (like \minline{foldr} for lists) is a very common operation and can be generally defined for fixed point types (section \ref{sec:recschemes}). Fusing this destruction with a modification or a construction of the original structure (that is deforestation) is also generalizable for fixed point types (section \ref{sec:rectypes}). Then the approach taken is very general and it can be extended for more complex fusion rules (section \ref{sec:para}) .

\section{Recursion schemes}
\label{sec:recschemes}
\input{recschemes.tex}

\section{Deforestation on recursive types}
\label{sec:rectypes}
\input{deforestation.tex}

\section{Going further with paramorphisms}
\label{sec:para}
\input{para.tex}

\section{Related and further work}
\label{sec:related}
\input{relatex.tex}

\begin{acks}
TODO
\end{acks}


\bibliographystyle{ACM-Reference-Format}
\bibliography{publications}
\end{document}

