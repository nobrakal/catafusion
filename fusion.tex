\documentclass[format=sigplan]{acmart}

\usepackage[utf8]{inputenc}
\usepackage[english]{babel}
\usepackage{amsmath}
\usepackage{amssymb}

\usepackage{minted}
\newcommand{\minline}[1]{\mintinline{Haskell}{#1}}

%
% defining the \BibTeX command - from Oren Patashnik's original BibTeX documentation.
\def\BibTeX{{\rm B\kern-.05em{\sc i\kern-.025em b}\kern-.08emT\kern-.1667em\lower.7ex\hbox{E}\kern-.125emX}}

% Rights management information.
% This information is sent to you when you complete the rights form.
% These commands have SAMPLE values in them; it is your responsibility as an author to replace
% the commands and values with those provided to you when you complete the rights form.
%
% These commands are for a PROCEEDINGS abstract or paper.
\copyrightyear{2019}
\acmYear{2019}
%\setcopyright{acmlicensed}
\acmConference[]{}{}{}
%\acmBooktitle{Woodstock '18: ACM Symposium on Neural Gaze Detection, June 03--05, 2018, Woodstock, NY}
%\acmPrice{15.00}
%\acmDOI{10.1145/1122445.1122456}
%\acmISBN{978-1-4503-9999-9/18/06}

\begin{document}
\title{Fusion}
\author{Alexandre Moine}
\email{alexandre@moine.me}

\affiliation{%
	\institution{Universit√© Paris Diderot}
	\streetaddress{5 Rue Thomas Mann}
	\city{Paris}
	\country{France}
	\postcode{75013}
}

\begin{abstract}
\end{abstract}

%
% The code below is generated by the tool at http://dl.acm.org/ccs.cfm.
% Please copy and paste the code instead of the example below.
%
\begin{CCSXML}
TODO
\end{CCSXML}

%% \ccsdesc[500]{Computer systems organization~Embedded systems}
%% \ccsdesc[300]{Computer systems organization~Redundancy}
%% \ccsdesc{Computer systems organization~Robotics}
%% \ccsdesc[100]{Networks~Network reliability}

%
% Keywords. The author(s) should pick words that accurately describe the work being
% presented. Separate the keywords with commas.

\keywords{Haskell, GHC, deforestation, algebraic graphs, TODO}

%
% This command processes the author and affiliation and title information and builds
% the first part of the formatted document.
\maketitle

\section{Introduction}

A Haskell program can be seen as the composition of many other small programs. It is often the right way to see software development but can lead to optimization problems. For example the expression:
\begin{minted}{Haskell}
foldr (+) 0 (map (* 2) xs)
\end{minted}
is equivalent to
\begin{minted}{Haskell}
foldr ((+) . (*) 2) 0 xs
\end{minted}

While the first one is more comprehensible, it builds an intermediate list that is not needed. The second version optimize this and will only go through the original list once.
This optimization, called \emph{deforestation} (Wadler \cite{WADLER1990231}) can be made at compile-time and thus allows the user to write a readable code while the compiler optimize it when it can; this is known for a long time, explained by Gill et al. \cite{Gill:1993:SCD:165180.165214} in Haskell with details and implemented by Peyton Jones et al. \cite{playing-by-the-rules-rewriting-as-a-practical-optimisation-technique-in-ghc} for GHC.

The purpose of this paper is to generalize this work for fixed-point recursive types with a minimalistic library that allows programmers to use deforestation simply. We first explain the generalization of "fold" functions in section \ref{sec:recschemes}, then explore the classical deforestation on recursive types in section \ref{sec:rectypes} and finally explore a generalization for "generalized recursive functions" while keeping compatibility with the previous work in section \ref{sec:para}.

\section{Recursion schemes}
\label{sec:recschemes}
\input{recschemes.tex}

\section{Deforestation on recursive types}
\label{sec:rectypes}
\input{deforestation.tex}

\section{Going further with paramorphisms}
\label{sec:para}
\input{para.tex}

\section{Related and further work}
\label{sec:related}
\input{relatex.tex}

\begin{acks}
TODO
\end{acks}


\bibliographystyle{ACM-Reference-Format}
\bibliography{publications}
\end{document}

